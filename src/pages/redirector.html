<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../../resrc/images/icon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="../styles/common.css">
    <link rel="stylesheet" href="../styles/treasury.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Scope+One&display=swap" rel="stylesheet">
    <title>Malang | Redirector</title>
    <style>
        form {
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 80%;
            margin: auto;
            margin-top: 50vh;
            transform: translateY(-60%);
            text-align: center;
            border: 1px solid #2e2e2e;
            padding: 20px;
            border-radius: 10px;
        }

        input {
            padding: 10px;
            border: 1px solid #3c3c3c;
            border-radius: 5px;
            background-color: #161616;
            color: white;
            margin-bottom: 15px;
        }

        form p {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .url{
            text-decoration: underline;
            color: #00d9ff;
            text-overflow: ellipsis;
        }

        
    </style>
</head>

<body>
    <header>
        <a href="../../index.html" class="malang"><img src="../../resrc/images/malang.png" alt="Malang"></a>
        <button id="burger">
            <div class="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
    </header>
    <nav>
        <ul>
            <li><a href="../../index.html">Home</a></li>
            <details>
                <summary>Events</summary>
                <ul>
                    <li><a href="../../404.html">Upcoming Events</a></li>
                    <li><a href="../../404.html">Past Events</a></li>
                </ul>
            </details>
            <li><a href="../../404.html">Store</a></li>
            <li><a href="../../404.html">ATMOsphere</a></li>
            <li><a href="gallery.html">Art Gallery</a></li>
            <li><a href="photographs.html">Photo Gallery</a></li>
            <details>
                <summary>Our Members</summary>
                <ul>
                    <li><a href="../../404.html">Core Members</a></li>
                    <li><a href="../../404.html">Malang Alumni</a></li>
                    <li><a href="../../404.html">The Malang Network</a></li>
                </ul>
            </details>
            <details>
                <summary>Admin Panel</summary>
                <ul>
                    <li><a href="authentication.html">Treasury</a></li>
                    <li><a href="authentication.html">Redirection Tool <img
                                src="../../resrc/images/icons/link_arrow.png" class="icon-small"></a></li>
                    <li><a href="documentation.html">Site Documentation</a></li>
                </ul>
            </details>
            <li><a href="../../404.html">Contact</a></li>
        </ul>
        <div class="nav-bottom">
            <div class="social">
                <a target="_blank" rel="noopener noreferrer" href="https://www.instagram.com/malangbvp/#"
                    target="_blank"><img src="../../resrc/images/icons/instagram.png" alt="" class="social_icon"></a>
                <a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/company/malangbvp/"><img
                        src="../../resrc/images/icons/linkedin.svg" alt="" class="social_icon"></a>
                <a target="_blank" rel="noopener noreferrer"
                    href="mailto:malangbvp@gmail.com?subject=Contacting%20via%20Malang%20Website&body=Hi%20Malang%20Team,%0D%0A%0D%0AI%20found%20your%20email%20on%20the%20Malang%20website%20and%20wanted%20to%20get%20in%20touch%20regarding...%0D%0A%0D%0ARegards,%0D%0A[Your%20Name]"
                    target="_blank"><img src="../../resrc/images/icons/email.svg" alt="" class="social_icon"></a>
                <a target="_blank" rel="noopener noreferrer" href="https://github.com/MalangBvp"><img
                        src="../../resrc/images/icons/github.svg" alt="" class="social_icon"></a>
            </div>
            <p>Â© 2017 - <span id="year">2024</span> Malang. All rights reserved.</p>
            <!--<p>Designed & developed by Tejas with &hearts; for Malang.</p>-->
        </div>
    </nav>
    <div id="nav-buttons">
        <button id="theme"><img src="../../resrc/images/icons/sun.png" alt=""></button>
        <button id="copy"><img src="../../resrc/images/icons/link.png" alt=""></button>
    </div>
    <section id="authentication">
        <form id="accessForm">
            <p>Customise URL</p>
            <input id="longURL" placeholder="URL" required />
            <input id="postfix" placeholder="Postfix" required />
            <input type="password" id="password" placeholder="Password" required />
            Custom URL will be:<br><a href="" class="url">https://malangbvp.github.io/go/<span id="url"></span></a>
            <button type="submit" class="long-btn">Create</button>
        </form>
    </section>
    <script src="../scripts/common.js"></script>
    <script>
        const form = document.getElementById('accessForm');

        input=document.getElementById("postfix");
        input.addEventListener('input', () => {
            document.getElementById("url").textContent = input.value;
        });
        const passwordInput = document.getElementById('password');

        const encoded = 'bWFsYW5ncGFyaw==';

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const input = passwordInput.value;

            const b64 = btoa(input);
            if (b64 === encoded) {
                window.location.href = 'treasury.html';
            } else {
                alert('Incorrect password');
            }
        });
    </script>
</body>

</html>